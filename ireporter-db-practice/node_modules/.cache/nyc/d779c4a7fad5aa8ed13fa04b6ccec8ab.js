'use strict';var cov_1gu9znjhi6=function(){var path="/home/enejakc/Documents/projects/ireporter-db-practice/tests/routes/auth.spec.js",hash="5ec6082e1b62a89e8d04a2c2e5166ec0105e6c23",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/enejakc/Documents/projects/ireporter-db-practice/tests/routes/auth.spec.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:27}},"1":{start:{line:5,column:13},end:{line:5,column:42}},"2":{start:{line:7,column:0},end:{line:7,column:32}},"3":{start:{line:9,column:16},end:{line:9,column:36}},"4":{start:{line:11,column:17},end:{line:11,column:50}},"5":{start:{line:13,column:14},end:{line:13,column:31}},"6":{start:{line:15,column:15},end:{line:15,column:46}},"7":{start:{line:17,column:13},end:{line:17,column:42}},"8":{start:{line:19,column:14},end:{line:19,column:44}},"9":{start:{line:21,column:12},end:{line:21,column:35}},"10":{start:{line:23,column:39},end:{line:23,column:93}},"11":{start:{line:25,column:0},end:{line:25,column:26}},"12":{start:{line:26,column:0},end:{line:26,column:39}},"13":{start:{line:28,column:0},end:{line:28,column:36}},"14":{start:{line:30,column:0},end:{line:114,column:3}},"15":{start:{line:31,column:4},end:{line:41,column:7}},"16":{start:{line:32,column:8},end:{line:40,column:11}},"17":{start:{line:33,column:12},end:{line:33,column:31}},"18":{start:{line:33,column:21},end:{line:33,column:31}},"19":{start:{line:35,column:12},end:{line:35,column:39}},"20":{start:{line:36,column:12},end:{line:36,column:79}},"21":{start:{line:37,column:12},end:{line:37,column:44}},"22":{start:{line:38,column:12},end:{line:38,column:155}},"23":{start:{line:39,column:12},end:{line:39,column:19}},"24":{start:{line:43,column:4},end:{line:53,column:7}},"25":{start:{line:44,column:8},end:{line:52,column:11}},"26":{start:{line:45,column:12},end:{line:45,column:31}},"27":{start:{line:45,column:21},end:{line:45,column:31}},"28":{start:{line:47,column:12},end:{line:47,column:39}},"29":{start:{line:48,column:12},end:{line:48,column:79}},"30":{start:{line:49,column:12},end:{line:49,column:44}},"31":{start:{line:50,column:12},end:{line:50,column:106}},"32":{start:{line:51,column:12},end:{line:51,column:19}},"33":{start:{line:55,column:4},end:{line:65,column:7}},"34":{start:{line:56,column:8},end:{line:64,column:11}},"35":{start:{line:57,column:12},end:{line:57,column:31}},"36":{start:{line:57,column:21},end:{line:57,column:31}},"37":{start:{line:59,column:12},end:{line:59,column:39}},"38":{start:{line:60,column:12},end:{line:60,column:79}},"39":{start:{line:61,column:12},end:{line:61,column:44}},"40":{start:{line:62,column:12},end:{line:62,column:104}},"41":{start:{line:63,column:12},end:{line:63,column:19}},"42":{start:{line:67,column:4},end:{line:77,column:7}},"43":{start:{line:68,column:8},end:{line:76,column:11}},"44":{start:{line:69,column:12},end:{line:69,column:31}},"45":{start:{line:69,column:21},end:{line:69,column:31}},"46":{start:{line:71,column:12},end:{line:71,column:39}},"47":{start:{line:72,column:12},end:{line:72,column:79}},"48":{start:{line:73,column:12},end:{line:73,column:44}},"49":{start:{line:74,column:12},end:{line:74,column:95}},"50":{start:{line:75,column:12},end:{line:75,column:19}},"51":{start:{line:79,column:4},end:{line:89,column:7}},"52":{start:{line:80,column:8},end:{line:88,column:11}},"53":{start:{line:81,column:12},end:{line:81,column:31}},"54":{start:{line:81,column:21},end:{line:81,column:31}},"55":{start:{line:83,column:12},end:{line:83,column:39}},"56":{start:{line:84,column:12},end:{line:84,column:79}},"57":{start:{line:85,column:12},end:{line:85,column:44}},"58":{start:{line:86,column:12},end:{line:86,column:72}},"59":{start:{line:87,column:12},end:{line:87,column:19}},"60":{start:{line:91,column:4},end:{line:101,column:7}},"61":{start:{line:92,column:8},end:{line:100,column:11}},"62":{start:{line:93,column:12},end:{line:93,column:31}},"63":{start:{line:93,column:21},end:{line:93,column:31}},"64":{start:{line:95,column:12},end:{line:95,column:39}},"65":{start:{line:96,column:12},end:{line:96,column:79}},"66":{start:{line:97,column:12},end:{line:97,column:44}},"67":{start:{line:98,column:12},end:{line:98,column:106}},"68":{start:{line:99,column:12},end:{line:99,column:19}},"69":{start:{line:103,column:4},end:{line:113,column:7}},"70":{start:{line:104,column:8},end:{line:112,column:11}},"71":{start:{line:105,column:12},end:{line:105,column:31}},"72":{start:{line:105,column:21},end:{line:105,column:31}},"73":{start:{line:107,column:12},end:{line:107,column:39}},"74":{start:{line:108,column:12},end:{line:108,column:79}},"75":{start:{line:109,column:12},end:{line:109,column:44}},"76":{start:{line:110,column:12},end:{line:110,column:140}},"77":{start:{line:111,column:12},end:{line:111,column:19}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:37},end:{line:23,column:95}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:30},end:{line:30,column:31}},loc:{start:{line:30,column:36},end:{line:114,column:1}},line:30},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:72},end:{line:31,column:73}},loc:{start:{line:31,column:80},end:{line:41,column:5}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:116},end:{line:32,column:117}},loc:{start:{line:32,column:130},end:{line:40,column:9}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:92},end:{line:43,column:93}},loc:{start:{line:43,column:100},end:{line:53,column:5}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:44,column:117},end:{line:44,column:118}},loc:{start:{line:44,column:131},end:{line:52,column:9}},line:44},"6":{name:"(anonymous_6)",decl:{start:{line:55,column:91},end:{line:55,column:92}},loc:{start:{line:55,column:99},end:{line:65,column:5}},line:55},"7":{name:"(anonymous_7)",decl:{start:{line:56,column:116},end:{line:56,column:117}},loc:{start:{line:56,column:130},end:{line:64,column:9}},line:56},"8":{name:"(anonymous_8)",decl:{start:{line:67,column:83},end:{line:67,column:84}},loc:{start:{line:67,column:91},end:{line:77,column:5}},line:67},"9":{name:"(anonymous_9)",decl:{start:{line:68,column:113},end:{line:68,column:114}},loc:{start:{line:68,column:127},end:{line:76,column:9}},line:68},"10":{name:"(anonymous_10)",decl:{start:{line:79,column:87},end:{line:79,column:88}},loc:{start:{line:79,column:95},end:{line:89,column:5}},line:79},"11":{name:"(anonymous_11)",decl:{start:{line:80,column:129},end:{line:80,column:130}},loc:{start:{line:80,column:143},end:{line:88,column:9}},line:80},"12":{name:"(anonymous_12)",decl:{start:{line:91,column:91},end:{line:91,column:92}},loc:{start:{line:91,column:99},end:{line:101,column:5}},line:91},"13":{name:"(anonymous_13)",decl:{start:{line:92,column:115},end:{line:92,column:116}},loc:{start:{line:92,column:129},end:{line:100,column:9}},line:92},"14":{name:"(anonymous_14)",decl:{start:{line:103,column:80},end:{line:103,column:81}},loc:{start:{line:103,column:88},end:{line:113,column:5}},line:103},"15":{name:"(anonymous_15)",decl:{start:{line:104,column:117},end:{line:104,column:118}},loc:{start:{line:104,column:131},end:{line:112,column:9}},line:104}},branchMap:{"0":{loc:{start:{line:23,column:46},end:{line:23,column:92}},type:"cond-expr",locations:[{start:{line:23,column:70},end:{line:23,column:73}},{start:{line:23,column:76},end:{line:23,column:92}}],line:23},"1":{loc:{start:{line:23,column:46},end:{line:23,column:67}},type:"binary-expr",locations:[{start:{line:23,column:46},end:{line:23,column:49}},{start:{line:23,column:53},end:{line:23,column:67}}],line:23},"2":{loc:{start:{line:33,column:12},end:{line:33,column:31}},type:"if",locations:[{start:{line:33,column:12},end:{line:33,column:31}},{start:{line:33,column:12},end:{line:33,column:31}}],line:33},"3":{loc:{start:{line:45,column:12},end:{line:45,column:31}},type:"if",locations:[{start:{line:45,column:12},end:{line:45,column:31}},{start:{line:45,column:12},end:{line:45,column:31}}],line:45},"4":{loc:{start:{line:57,column:12},end:{line:57,column:31}},type:"if",locations:[{start:{line:57,column:12},end:{line:57,column:31}},{start:{line:57,column:12},end:{line:57,column:31}}],line:57},"5":{loc:{start:{line:69,column:12},end:{line:69,column:31}},type:"if",locations:[{start:{line:69,column:12},end:{line:69,column:31}},{start:{line:69,column:12},end:{line:69,column:31}}],line:69},"6":{loc:{start:{line:81,column:12},end:{line:81,column:31}},type:"if",locations:[{start:{line:81,column:12},end:{line:81,column:31}},{start:{line:81,column:12},end:{line:81,column:31}}],line:81},"7":{loc:{start:{line:93,column:12},end:{line:93,column:31}},type:"if",locations:[{start:{line:93,column:12},end:{line:93,column:31}},{start:{line:93,column:12},end:{line:93,column:31}}],line:93},"8":{loc:{start:{line:105,column:12},end:{line:105,column:31}},type:"if",locations:[{start:{line:105,column:12},end:{line:105,column:31}},{start:{line:105,column:12},end:{line:105,column:31}}],line:105}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chai=(cov_1gu9znjhi6.s[0]++,require('chai'));var _chai2=(cov_1gu9znjhi6.s[1]++,_interopRequireDefault(_chai));cov_1gu9znjhi6.s[2]++;require('chai/register-should');var _chaiHttp=(cov_1gu9znjhi6.s[3]++,require('chai-http'));var _chaiHttp2=(cov_1gu9znjhi6.s[4]++,_interopRequireDefault(_chaiHttp));var _dotenv=(cov_1gu9znjhi6.s[5]++,require('dotenv'));var _dotenv2=(cov_1gu9znjhi6.s[6]++,_interopRequireDefault(_dotenv));var _index=(cov_1gu9znjhi6.s[7]++,require('../../server/index'));var _index2=(cov_1gu9znjhi6.s[8]++,_interopRequireDefault(_index));var _seed=(cov_1gu9znjhi6.s[9]++,require('../seed/seed'));function _interopRequireDefault(obj){cov_1gu9znjhi6.f[0]++;cov_1gu9znjhi6.s[10]++;return(cov_1gu9znjhi6.b[1][0]++,obj)&&(cov_1gu9znjhi6.b[1][1]++,obj.__esModule)?(cov_1gu9znjhi6.b[0][0]++,obj):(cov_1gu9znjhi6.b[0][1]++,{default:obj});}cov_1gu9znjhi6.s[11]++;_dotenv2.default.config();cov_1gu9znjhi6.s[12]++;_chai2.default.use(_chaiHttp2.default);cov_1gu9znjhi6.s[13]++;before(_seed.dropAndRecreateTables);// RESET: drop all tables, recreate repopulate with default values 'before' the test begins
cov_1gu9znjhi6.s[14]++;describe('POST /auth/signup',()=>{cov_1gu9znjhi6.f[1]++;cov_1gu9znjhi6.s[15]++;it('it should respond with a 400 error message for missing fields',done=>{cov_1gu9znjhi6.f[2]++;cov_1gu9znjhi6.s[16]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.invalidUserNoData).end((err,res)=>{cov_1gu9znjhi6.f[3]++;cov_1gu9znjhi6.s[17]++;if(err){cov_1gu9znjhi6.b[2][0]++;cov_1gu9znjhi6.s[18]++;done(err);}else{cov_1gu9znjhi6.b[2][1]++;}cov_1gu9znjhi6.s[19]++;res.status.should.eql(400);cov_1gu9znjhi6.s[20]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[21]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[22]++;res.body.error.should.eql('values are required form the following fields: firstname, lastname, phoneNumber, email, password, confirmPassword');cov_1gu9znjhi6.s[23]++;done();});});cov_1gu9znjhi6.s[24]++;it('it should respond with a 400 error message if firstname is less than 2 characters',done=>{cov_1gu9znjhi6.f[4]++;cov_1gu9znjhi6.s[25]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.incorrectFirstname).end((err,res)=>{cov_1gu9znjhi6.f[5]++;cov_1gu9znjhi6.s[26]++;if(err){cov_1gu9znjhi6.b[3][0]++;cov_1gu9znjhi6.s[27]++;done(err);}else{cov_1gu9znjhi6.b[3][1]++;}cov_1gu9znjhi6.s[28]++;res.status.should.eql(400);cov_1gu9znjhi6.s[29]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[30]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[31]++;res.body.error.should.eql('invalid first name. First name must be a minimum of 2 characters');cov_1gu9znjhi6.s[32]++;done();});});cov_1gu9znjhi6.s[33]++;it('it should respond with a 400 error message if lastname is less than 2 characters',done=>{cov_1gu9znjhi6.f[6]++;cov_1gu9znjhi6.s[34]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.incorrectLastname).end((err,res)=>{cov_1gu9znjhi6.f[7]++;cov_1gu9znjhi6.s[35]++;if(err){cov_1gu9znjhi6.b[4][0]++;cov_1gu9znjhi6.s[36]++;done(err);}else{cov_1gu9znjhi6.b[4][1]++;}cov_1gu9znjhi6.s[37]++;res.status.should.eql(400);cov_1gu9znjhi6.s[38]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[39]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[40]++;res.body.error.should.eql('invalid last name. Last name must be a minimum of 2 characters');cov_1gu9znjhi6.s[41]++;done();});});cov_1gu9znjhi6.s[42]++;it('it should respond with a 400 error message for a wrongly formatted email',done=>{cov_1gu9znjhi6.f[8]++;cov_1gu9znjhi6.s[43]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.incorrectEmail).end((err,res)=>{cov_1gu9znjhi6.f[9]++;cov_1gu9znjhi6.s[44]++;if(err){cov_1gu9znjhi6.b[5][0]++;cov_1gu9znjhi6.s[45]++;done(err);}else{cov_1gu9znjhi6.b[5][1]++;}cov_1gu9znjhi6.s[46]++;res.status.should.eql(400);cov_1gu9znjhi6.s[47]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[48]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[49]++;res.body.error.should.eql('email: leading dash in front of domain is not allowed');cov_1gu9znjhi6.s[50]++;done();});});cov_1gu9znjhi6.s[51]++;it('it should respond with a 400 error message if the two passwords do not match',done=>{cov_1gu9znjhi6.f[10]++;cov_1gu9znjhi6.s[52]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.invalidUserMissmatchedPassword).end((err,res)=>{cov_1gu9znjhi6.f[11]++;cov_1gu9znjhi6.s[53]++;if(err){cov_1gu9znjhi6.b[6][0]++;cov_1gu9znjhi6.s[54]++;done(err);}else{cov_1gu9znjhi6.b[6][1]++;}cov_1gu9znjhi6.s[55]++;res.status.should.eql(400);cov_1gu9znjhi6.s[56]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[57]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[58]++;res.body.error.should.eql('the two passwords do not match');cov_1gu9znjhi6.s[59]++;done();});});cov_1gu9znjhi6.s[60]++;it('it should respond with a 400 error message if password is less than 6 characters',done=>{cov_1gu9znjhi6.f[12]++;cov_1gu9znjhi6.s[61]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.passwordTooShort).end((err,res)=>{cov_1gu9znjhi6.f[13]++;cov_1gu9znjhi6.s[62]++;if(err){cov_1gu9znjhi6.b[7][0]++;cov_1gu9znjhi6.s[63]++;done(err);}else{cov_1gu9znjhi6.b[7][1]++;}cov_1gu9znjhi6.s[64]++;res.status.should.eql(400);cov_1gu9znjhi6.s[65]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[66]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[67]++;res.body.error.should.eql('Invalid password. Password should have a minimum of 6 characters');cov_1gu9znjhi6.s[68]++;done();});});cov_1gu9znjhi6.s[69]++;it('it should respond with a 400 error message if phone number is invalid',done=>{cov_1gu9znjhi6.f[14]++;cov_1gu9znjhi6.s[70]++;_chai2.default.request(_index2.default).post('/api/v1/auth/signup').send(_seed.users.invalidPhoneNumber).end((err,res)=>{cov_1gu9znjhi6.f[15]++;cov_1gu9znjhi6.s[71]++;if(err){cov_1gu9znjhi6.b[8][0]++;cov_1gu9znjhi6.s[72]++;done(err);}else{cov_1gu9znjhi6.b[8][1]++;}cov_1gu9znjhi6.s[73]++;res.status.should.eql(400);cov_1gu9znjhi6.s[74]++;res.body.should.be.an('object').that.has.keys(['status','error']);cov_1gu9znjhi6.s[75]++;res.body.status.should.eql(400);cov_1gu9znjhi6.s[76]++;res.body.error.should.eql('Invalid phone number. Phone number cannot contain characters, and must be less than 16 digits long');cov_1gu9znjhi6.s[77]++;done();});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc3BlYy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJjaGFpIiwidXNlIiwiY2hhaUh0dHAiLCJiZWZvcmUiLCJkcm9wQW5kUmVjcmVhdGVUYWJsZXMiLCJkZXNjcmliZSIsIml0IiwiZG9uZSIsInJlcXVlc3QiLCJhcHAiLCJwb3N0Iiwic2VuZCIsInVzZXJzIiwiaW52YWxpZFVzZXJOb0RhdGEiLCJlbmQiLCJlcnIiLCJyZXMiLCJzdGF0dXMiLCJzaG91bGQiLCJlcWwiLCJib2R5IiwiYmUiLCJhbiIsInRoYXQiLCJoYXMiLCJrZXlzIiwiZXJyb3IiLCJpbmNvcnJlY3RGaXJzdG5hbWUiLCJpbmNvcnJlY3RMYXN0bmFtZSIsImluY29ycmVjdEVtYWlsIiwiaW52YWxpZFVzZXJNaXNzbWF0Y2hlZFBhc3N3b3JkIiwicGFzc3dvcmRUb29TaG9ydCIsImludmFsaWRQaG9uZU51bWJlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUFBLGlCQUFPQyxNQUFQO0FBQ0FDLGVBQUtDLEdBQUwsQ0FBU0Msa0JBQVQ7O0FBRUFDLE9BQU9DLDJCQUFQLEUsQ0FBK0I7O0FBRS9CQyxTQUFTLG1CQUFULEVBQThCLE1BQU07QUFDaENDLE9BQUcsK0RBQUgsRUFBcUVDLElBQUQsSUFBVTtBQUMxRVAsdUJBQUtRLE9BQUwsQ0FBYUMsZUFBYixFQUNDQyxJQURELENBQ00scUJBRE4sRUFFQ0MsSUFGRCxDQUVNQyxZQUFNQyxpQkFGWixFQUdDQyxHQUhELENBR0ssQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDZixnQkFBSUQsR0FBSixFQUFTUixLQUFLUSxHQUFMOztBQUVUQyxnQkFBSUMsTUFBSixDQUFXQyxNQUFYLENBQWtCQyxHQUFsQixDQUFzQixHQUF0QjtBQUNBSCxnQkFBSUksSUFBSixDQUFTRixNQUFULENBQWdCRyxFQUFoQixDQUFtQkMsRUFBbkIsQ0FBc0IsUUFB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Z0JHLEVBQWhCLENBQW1CQyxFQUFuQixDQUFzQixRQUF0QixFQUFnQ0MsSUFBaEMsQ0FBcUNDLEdBQXJDLENBQXlDQyxJQUF6QyxDQUE4QyxDQUFDLFFBQUQsRUFBVyxPQUFYLENBQTlDO0FBQ0FULGdCQUFJSSxJQUFKLENBQVNILE1BQVQsQ0FBZ0JDLE1BQWhCLENBQXVCQyxHQUF2QixDQUEyQixHQUEzQjtBQUNBSCxnQkFBSUksSUFBSixDQUFTTSxLQUFULENBQWVSLE1BQWYsQ0FBc0JDLEdBQXRCLENBQTBCLGtFQUExQjtBQUNBWjtBQUNILFNBWEQ7QUFZSCxLQWJEOztBQWVBRCxPQUFHLHVFQUFILEVBQTZFQyxJQUFELElBQVU7QUFDbEZQLHVCQUFLUSxPQUFMLENBQWFDLGVBQWIsRUFDQ0MsSUFERCxDQUNNLHFCQUROLEVBRUtDLElBRkwsQ0FFVUMsWUFBTW9CLGtCQUZoQixFQUdDbEIsR0FIRCxDQUdLLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2YsZ0JBQUlELEdBQUosRUFBU1IsS0FBS1EsR0FBTDs7QUFFVEMsZ0JBQUlDLE1BQUosQ0FBV0MsTUFBWCxDQUFrQkMsR0FBbEIsQ0FBc0IsR0FBdEI7QUFDQUgsZ0JBQUlJLElBQUosQ0FBU0YsTUFBVCxDQUFnQkcsRUFBaEIsQ0FBbUJDLEVBQW5CLENBQXNCLFFBQXRCLEVBQWdDQyxJQUFoQyxDQUFxQ0MsR0FBckMsQ0FBeUNDLElBQXpDLENBQThDLENBQUMsUUFBRCxFQUFXLE9BQVgsQ0FBOUM7QUFDQVQsZ0JBQUlJLElBQUosQ0FBU0gsTUFBVCxDQUFnQkMsTUFBaEIsQ0FBdUJDLEdBQXZCLENBQTJCLEdBQTNCO0FBQ0FILGdCQUFJSSxJQUFKLENBQVNNLEtBQVQsQ0FBZVIsTUFBZixDQUFzQkMsR0FBdEIsQ0FBMEIsb0dBQTFCO0FBQ0FaO0FBQ0gsU0FYRDtBQVlILEtBYkQ7QUFjSCxDQXpHRCIsImZpbGUiOiJhdXRoLnNwZWMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvZW5lamFrYy9Eb2N1bWVudHMvcHJvamVjdHMvaXJlcG9ydGVyLWRiLXByYWN0aWNlL3Rlc3RzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0ICdjaGFpL3JlZ2lzdGVyLXNob3VsZCc7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSAnY2hhaS1odHRwJztcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBhcHAgZnJvbSAnLi4vLi4vc2VydmVyL2luZGV4JztcbmltcG9ydCB7IHVzZXJzLCBkcm9wQW5kUmVjcmVhdGVUYWJsZXMgfSBmcm9tICcuLi9zZWVkL3NlZWQnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5jaGFpLnVzZShjaGFpSHR0cCk7XG5cbmJlZm9yZShkcm9wQW5kUmVjcmVhdGVUYWJsZXMpOyAvLyBSRVNFVDogZHJvcCBhbGwgdGFibGVzLCByZWNyZWF0ZSByZXBvcHVsYXRlIHdpdGggZGVmYXVsdCB2YWx1ZXMgJ2JlZm9yZScgdGhlIHRlc3QgYmVnaW5zXG5cbmRlc2NyaWJlKCdQT1NUIC9hdXRoL3NpZ251cCcsICgpID0+IHtcbiAgICBpdCgnaXQgc2hvdWxkIHJlc3BvbmQgd2l0aCBhIDQwMCBlcnJvciBtZXNzYWdlIGZvciBtaXNzaW5nIGZpZWxkcycsIChkb25lKSA9PiB7XG4gICAgICAgIGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvc2lnbnVwJylcbiAgICAgICAgLnNlbmQodXNlcnMuaW52YWxpZFVzZXJOb0RhdGEpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSBkb25lKGVycik7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuc2hvdWxkLmJlLmFuKCdvYmplY3QnKS50aGF0Lmhhcy5rZXlzKFsnc3RhdHVzJywgJ2Vycm9yJ10pO1xuICAgICAgICAgICAgcmVzLmJvZHkuc3RhdHVzLnNob3VsZC5lcWwoNDAwKTtcbiAgICAgICAgICAgIHJlcy5ib2R5LmVycm9yLnNob3VsZC5lcWwoJ3ZhbHVlcyBhcmUgcmVxdWlyZWQgZm9ybSB0aGUgZm9sbG93aW5nIGZpZWxkczogZmlyc3RuYW1lLCBsYXN0bmFtZSwgcGhvbmVOdW1iZXIsIGVtYWlsLCBwYXNzd29yZCwgY29uZmlybVBhc3N3b3JkJyk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2l0IHNob3VsZCByZXNwb25kIHdpdGggYSA0MDAgZXJyb3IgbWVzc2FnZSBpZiBmaXJzdG5hbWUgaXMgbGVzcyB0aGFuIDIgY2hhcmFjdGVycycsIChkb25lKSA9PiB7XG4gICAgICAgIGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvc2lnbnVwJylcbiAgICAgICAgLnNlbmQodXNlcnMuaW5jb3JyZWN0Rmlyc3RuYW1lKVxuICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikgZG9uZShlcnIpO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzLnNob3VsZC5lcWwoNDAwKTtcbiAgICAgICAgICAgIHJlcy5ib2R5LnNob3VsZC5iZS5hbignb2JqZWN0JykudGhhdC5oYXMua2V5cyhbJ3N0YXR1cycsICdlcnJvciddKTtcbiAgICAgICAgICAgIHJlcy5ib2R5LnN0YXR1cy5zaG91bGQuZXFsKDQwMCk7XG4gICAgICAgICAgICByZXMuYm9keS5lcnJvci5zaG91bGQuZXFsKCdpbnZhbGlkIGZpcnN0IG5hbWUuIEZpcnN0IG5hbWUgbXVzdCBiZSBhIG1pbmltdW0gb2YgMiBjaGFyYWN0ZXJzJyk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2l0IHNob3VsZCByZXNwb25kIHdpdGggYSA0MDAgZXJyb3IgbWVzc2FnZSBpZiBsYXN0bmFtZSBpcyBsZXNzIHRoYW4gMiBjaGFyYWN0ZXJzJywgKGRvbmUpID0+IHtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9zaWdudXAnKVxuICAgICAgICAuc2VuZCh1c2Vycy5pbmNvcnJlY3RMYXN0bmFtZSlcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cy5zaG91bGQuZXFsKDQwMCk7XG4gICAgICAgICAgICByZXMuYm9keS5zaG91bGQuYmUuYW4oJ29iamVjdCcpLnRoYXQuaGFzLmtleXMoWydzdGF0dXMnLCAnZXJyb3InXSk7XG4gICAgICAgICAgICByZXMuYm9keS5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuZXJyb3Iuc2hvdWxkLmVxbCgnaW52YWxpZCBsYXN0IG5hbWUuIExhc3QgbmFtZSBtdXN0IGJlIGEgbWluaW11bSBvZiAyIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnaXQgc2hvdWxkIHJlc3BvbmQgd2l0aCBhIDQwMCBlcnJvciBtZXNzYWdlIGZvciBhIHdyb25nbHkgZm9ybWF0dGVkIGVtYWlsJywgKGRvbmUpID0+IHtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9zaWdudXAnKVxuICAgICAgICAuc2VuZCh1c2Vycy5pbmNvcnJlY3RFbWFpbClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cy5zaG91bGQuZXFsKDQwMCk7XG4gICAgICAgICAgICByZXMuYm9keS5zaG91bGQuYmUuYW4oJ29iamVjdCcpLnRoYXQuaGFzLmtleXMoWydzdGF0dXMnLCAnZXJyb3InXSk7XG4gICAgICAgICAgICByZXMuYm9keS5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuZXJyb3Iuc2hvdWxkLmVxbCgnZW1haWw6IGxlYWRpbmcgZGFzaCBpbiBmcm9udCBvZiBkb21haW4gaXMgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnaXQgc2hvdWxkIHJlc3BvbmQgd2l0aCBhIDQwMCBlcnJvciBtZXNzYWdlIGlmIHRoZSB0d28gcGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcsIChkb25lKSA9PiB7XG4gICAgICAgIGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvc2lnbnVwJylcbiAgICAgICAgICAgIC5zZW5kKHVzZXJzLmludmFsaWRVc2VyTWlzc21hdGNoZWRQYXNzd29yZClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cy5zaG91bGQuZXFsKDQwMCk7XG4gICAgICAgICAgICByZXMuYm9keS5zaG91bGQuYmUuYW4oJ29iamVjdCcpLnRoYXQuaGFzLmtleXMoWydzdGF0dXMnLCAnZXJyb3InXSk7XG4gICAgICAgICAgICByZXMuYm9keS5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuZXJyb3Iuc2hvdWxkLmVxbCgndGhlIHR3byBwYXNzd29yZHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2l0IHNob3VsZCByZXNwb25kIHdpdGggYSA0MDAgZXJyb3IgbWVzc2FnZSBpZiBwYXNzd29yZCBpcyBsZXNzIHRoYW4gNiBjaGFyYWN0ZXJzJywgKGRvbmUpID0+IHtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9zaWdudXAnKVxuICAgICAgICAgICAgLnNlbmQodXNlcnMucGFzc3dvcmRUb29TaG9ydClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cy5zaG91bGQuZXFsKDQwMCk7XG4gICAgICAgICAgICByZXMuYm9keS5zaG91bGQuYmUuYW4oJ29iamVjdCcpLnRoYXQuaGFzLmtleXMoWydzdGF0dXMnLCAnZXJyb3InXSk7XG4gICAgICAgICAgICByZXMuYm9keS5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuZXJyb3Iuc2hvdWxkLmVxbCgnSW52YWxpZCBwYXNzd29yZC4gUGFzc3dvcmQgc2hvdWxkIGhhdmUgYSBtaW5pbXVtIG9mIDYgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdpdCBzaG91bGQgcmVzcG9uZCB3aXRoIGEgNDAwIGVycm9yIG1lc3NhZ2UgaWYgcGhvbmUgbnVtYmVyIGlzIGludmFsaWQnLCAoZG9uZSkgPT4ge1xuICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3NpZ251cCcpXG4gICAgICAgICAgICAuc2VuZCh1c2Vycy5pbnZhbGlkUGhvbmVOdW1iZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSBkb25lKGVycik7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMuc2hvdWxkLmVxbCg0MDApO1xuICAgICAgICAgICAgcmVzLmJvZHkuc2hvdWxkLmJlLmFuKCdvYmplY3QnKS50aGF0Lmhhcy5rZXlzKFsnc3RhdHVzJywgJ2Vycm9yJ10pO1xuICAgICAgICAgICAgcmVzLmJvZHkuc3RhdHVzLnNob3VsZC5lcWwoNDAwKTtcbiAgICAgICAgICAgIHJlcy5ib2R5LmVycm9yLnNob3VsZC5lcWwoJ0ludmFsaWQgcGhvbmUgbnVtYmVyLiBQaG9uZSBudW1iZXIgY2Fubm90IGNvbnRhaW4gY2hhcmFjdGVycywgYW5kIG11c3QgYmUgbGVzcyB0aGFuIDE2IGRpZ2l0cyBsb25nJyk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7Il19