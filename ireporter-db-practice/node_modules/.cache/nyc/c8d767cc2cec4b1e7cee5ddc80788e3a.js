'use strict';var cov_bh9kia0b8=function(){var path="/home/enejakc/Documents/projects/ireporter-db-practice/tests/seed/seed.js",hash="8a23320d99235f78160aa429cc2a266117c76248",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/enejakc/Documents/projects/ireporter-db-practice/tests/seed/seed.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:115}},"2":{start:{line:8,column:20},end:{line:8,column:43}},"3":{start:{line:10,column:21},end:{line:10,column:58}},"4":{start:{line:12,column:14},end:{line:12,column:47}},"5":{start:{line:14,column:15},end:{line:14,column:46}},"6":{start:{line:16,column:39},end:{line:16,column:93}},"7":{start:{line:18,column:33},end:{line:18,column:456}},"8":{start:{line:18,column:64},end:{line:18,column:89}},"9":{start:{line:18,column:91},end:{line:18,column:453}},"10":{start:{line:18,column:165},end:{line:18,column:263}},"11":{start:{line:18,column:182},end:{line:18,column:195}},"12":{start:{line:18,column:209},end:{line:18,column:219}},"13":{start:{line:18,column:239},end:{line:18,column:253}},"14":{start:{line:18,column:254},end:{line:18,column:261}},"15":{start:{line:18,column:264},end:{line:18,column:426}},"16":{start:{line:18,column:281},end:{line:18,column:296}},"17":{start:{line:18,column:306},end:{line:18,column:424}},"18":{start:{line:18,column:360},end:{line:18,column:380}},"19":{start:{line:18,column:401},end:{line:18,column:420}},"20":{start:{line:18,column:429},end:{line:18,column:449}},"21":{start:{line:20,column:14},end:{line:93,column:1}},"22":{start:{line:102,column:4},end:{line:107,column:42}},"23":{start:{line:114,column:30},end:{line:158,column:4}},"24":{start:{line:115,column:15},end:{line:153,column:6}},"25":{start:{line:116,column:36},end:{line:116,column:72}},"26":{start:{line:117,column:40},end:{line:117,column:80}},"27":{start:{line:119,column:38},end:{line:133,column:10}},"28":{start:{line:135,column:42},end:{line:147,column:10}},"29":{start:{line:149,column:8},end:{line:149,column:58}},"30":{start:{line:150,column:8},end:{line:150,column:62}},"31":{start:{line:151,column:8},end:{line:151,column:60}},"32":{start:{line:152,column:8},end:{line:152,column:64}},"33":{start:{line:155,column:4},end:{line:157,column:6}},"34":{start:{line:156,column:8},end:{line:156,column:43}},"35":{start:{line:164,column:26},end:{line:176,column:4}},"36":{start:{line:165,column:16},end:{line:171,column:6}},"37":{start:{line:166,column:24},end:{line:169,column:83}},"38":{start:{line:170,column:8},end:{line:170,column:46}},"39":{start:{line:173,column:4},end:{line:175,column:6}},"40":{start:{line:174,column:8},end:{line:174,column:44}},"41":{start:{line:178,column:0},end:{line:178,column:22}},"42":{start:{line:179,column:0},end:{line:179,column:54}},"43":{start:{line:180,column:0},end:{line:180,column:46}},"44":{start:{line:181,column:0},end:{line:181,column:48}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:16,column:9},end:{line:16,column:31}},loc:{start:{line:16,column:37},end:{line:16,column:95}},line:16},"1":{name:"_asyncToGenerator",decl:{start:{line:18,column:9},end:{line:18,column:26}},loc:{start:{line:18,column:31},end:{line:18,column:458}},line:18},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:40},end:{line:18,column:41}},loc:{start:{line:18,column:52},end:{line:18,column:455}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:110},end:{line:18,column:111}},loc:{start:{line:18,column:137},end:{line:18,column:451}},line:18},"4":{name:"step",decl:{start:{line:18,column:148},end:{line:18,column:152}},loc:{start:{line:18,column:163},end:{line:18,column:428}},line:18},"5":{name:"(anonymous_5)",decl:{start:{line:18,column:341},end:{line:18,column:342}},loc:{start:{line:18,column:358},end:{line:18,column:382}},line:18},"6":{name:"(anonymous_6)",decl:{start:{line:18,column:384},end:{line:18,column:385}},loc:{start:{line:18,column:399},end:{line:18,column:422}},line:18},"7":{name:"generateValidToken",decl:{start:{line:101,column:9},end:{line:101,column:27}},loc:{start:{line:101,column:40},end:{line:108,column:1}},line:101},"8":{name:"(anonymous_8)",decl:{start:{line:114,column:31},end:{line:114,column:32}},loc:{start:{line:114,column:37},end:{line:158,column:1}},line:114},"9":{name:"(anonymous_9)",decl:{start:{line:115,column:33},end:{line:115,column:34}},loc:{start:{line:115,column:46},end:{line:153,column:5}},line:115},"10":{name:"dropAndRecreateTables",decl:{start:{line:155,column:20},end:{line:155,column:41}},loc:{start:{line:155,column:44},end:{line:157,column:5}},line:155},"11":{name:"(anonymous_11)",decl:{start:{line:164,column:27},end:{line:164,column:28}},loc:{start:{line:164,column:33},end:{line:176,column:1}},line:164},"12":{name:"(anonymous_12)",decl:{start:{line:165,column:34},end:{line:165,column:35}},loc:{start:{line:165,column:47},end:{line:171,column:5}},line:165},"13":{name:"populateIncidents",decl:{start:{line:173,column:20},end:{line:173,column:37}},loc:{start:{line:173,column:40},end:{line:175,column:5}},line:173}},branchMap:{"0":{loc:{start:{line:16,column:46},end:{line:16,column:92}},type:"cond-expr",locations:[{start:{line:16,column:70},end:{line:16,column:73}},{start:{line:16,column:76},end:{line:16,column:92}}],line:16},"1":{loc:{start:{line:16,column:46},end:{line:16,column:67}},type:"binary-expr",locations:[{start:{line:16,column:46},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:67}}],line:16},"2":{loc:{start:{line:18,column:264},end:{line:18,column:426}},type:"if",locations:[{start:{line:18,column:264},end:{line:18,column:426}},{start:{line:18,column:264},end:{line:18,column:426}}],line:18},"3":{loc:{start:{line:106,column:20},end:{line:106,column:94}},type:"cond-expr",locations:[{start:{line:106,column:74},end:{line:106,column:81}},{start:{line:106,column:84},end:{line:106,column:94}}],line:106}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_bh9kia0b8.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_bh9kia0b8.s[1]++;exports.generateValidToken=exports.populateIncidents=exports.dropAndRecreateTables=exports.users=undefined;var _jsonwebtoken=(cov_bh9kia0b8.s[2]++,require('jsonwebtoken'));var _jsonwebtoken2=(cov_bh9kia0b8.s[3]++,_interopRequireDefault(_jsonwebtoken));var _config=(cov_bh9kia0b8.s[4]++,require('../../server/db/config'));var _config2=(cov_bh9kia0b8.s[5]++,_interopRequireDefault(_config));function _interopRequireDefault(obj){cov_bh9kia0b8.f[0]++;cov_bh9kia0b8.s[6]++;return(cov_bh9kia0b8.b[1][0]++,obj)&&(cov_bh9kia0b8.b[1][1]++,obj.__esModule)?(cov_bh9kia0b8.b[0][0]++,obj):(cov_bh9kia0b8.b[0][1]++,{default:obj});}function _asyncToGenerator(fn){cov_bh9kia0b8.f[1]++;cov_bh9kia0b8.s[7]++;return function(){cov_bh9kia0b8.f[2]++;var gen=(cov_bh9kia0b8.s[8]++,fn.apply(this,arguments));cov_bh9kia0b8.s[9]++;return new Promise(function(resolve,reject){cov_bh9kia0b8.f[3]++;function step(key,arg){cov_bh9kia0b8.f[4]++;cov_bh9kia0b8.s[10]++;try{var info=(cov_bh9kia0b8.s[11]++,gen[key](arg));var value=(cov_bh9kia0b8.s[12]++,info.value);}catch(error){cov_bh9kia0b8.s[13]++;reject(error);cov_bh9kia0b8.s[14]++;return;}cov_bh9kia0b8.s[15]++;if(info.done){cov_bh9kia0b8.b[2][0]++;cov_bh9kia0b8.s[16]++;resolve(value);}else{cov_bh9kia0b8.b[2][1]++;cov_bh9kia0b8.s[17]++;return Promise.resolve(value).then(function(value){cov_bh9kia0b8.f[5]++;cov_bh9kia0b8.s[18]++;step("next",value);},function(err){cov_bh9kia0b8.f[6]++;cov_bh9kia0b8.s[19]++;step("throw",err);});}}cov_bh9kia0b8.s[20]++;return step("next");});};}const users=(cov_bh9kia0b8.s[21]++,{admin:{id:1,firstname:'kingsley',lastname:'eneja',phoneNumber:'09063550695',email:'eneja.kc@gmail.com',password:'kingsley',confirmPassword:'kingsley',adminSecret:'nimdamai'},validUserOne:{id:2,firstname:'john',lastname:'snow',phoneNumber:'08023875011',email:'johnsnow@gmail.com',password:'john',confirmPassword:'john',adminSecret:''},validUserTwo:{id:3,firstname:'theon',lastname:'greyjoy',phoneNumber:'0808822928',email:'theongreyjoy@gmail.com',password:'theon',confirmPassword:'theon',adminSecret:''},validUserInvalidPass:{email:'johnsnow@gmail.com',password:'wrongpassword'},invalidUser:{firstname:'four-O-four',// email: 'no@email.address',
email:'aturoVidal@gmail.com',password:'invalid'},invalidUserNoData:{},invalidUserNoFirstname:{lastname:'greyjoy',phoneNumber:'0808822928',email:'theongreyjoy@gmail.com',password:'theon',confirmPassword:'theon'},invalidUserNoEmail:{firstname:'theon',lastname:'greyjoy',phoneNumber:'0808822928',password:'theon',confirmPassword:'theon',adminSecret:''},invalidUserNoPass:{firstname:'theon',lastname:'greyjoy',phoneNumber:'0808822928',email:'theongreyjoy@gmail.com',adminSecret:''},invalidUserMissmatchedPassword:{firstname:'theon',lastname:'greyjoy',phoneNumber:'0808822928',email:'theongreyjoy@gmail.com',password:'theon',confirmPassword:'nottheon',adminSecret:''}});/**
 * @function generateValidToken - generates a valid JWT based on the user details object passed in
 * @param {Object} userObject - the details of the user
 * @returns {String} - a valid, signed, JSON Web Token
 *
 */function generateValidToken(userObject){cov_bh9kia0b8.f[7]++;cov_bh9kia0b8.s[22]++;return _jsonwebtoken2.default.sign({userId:userObject.id,userName:userObject.firstname,userEmail:userObject.email,userStatus:userObject.adminSecret===process.env.ADMIN_SECRET?(cov_bh9kia0b8.b[3][0]++,'admin'):(cov_bh9kia0b8.b[3][1]++,'customer')},process.env.JWT_SECRET).toString();}/**
 * @async
 * @function dropAndRecreateTables - purges the database data
 */const dropAndRecreateTables=(cov_bh9kia0b8.s[23]++,(()=>{cov_bh9kia0b8.f[8]++;var _ref=(cov_bh9kia0b8.s[24]++,_asyncToGenerator(function*(){cov_bh9kia0b8.f[9]++;const dropUsersTableQuery=(cov_bh9kia0b8.s[25]++,'DROP TABLE IF EXISTS users CASCADE');const dropIncidentsTableQuery=(cov_bh9kia0b8.s[26]++,'DROP TABLE IF EXISTS incidents CASCADE');const createUsersTableQuery=(cov_bh9kia0b8.s[27]++,`CREATE TABLE IF NOT EXISTS
        users(
            id serial PRIMARY KEY,
            firstname VARCHAR(50) NOT NULL,
            lastname VARCHAR(50) NOT NULL,
            othernames VARCHAR(50) DEFAULT NULL,
            username VARCHAR(50) NOT NULL,
            phonenumber VARCHAR(50) NOT NULL,
            email VARCHAR(128) UNIQUE NOT NULL,
            password VARCHAR(128) NOT NULL,
            picture TEXT DEFAULT NULL,
            registered TIMESTAMP,
            is_admin BOOLEAN NOT NULL

        )`);const createIncidentsTableQuery=(cov_bh9kia0b8.s[28]++,`CREATE TABLE IF NOT EXISTS
        incidents(
            id serial PRIMARY KEY,
            created_on TIMESTAMP,
            created_by serial NOT NULL,
            type TEXT NOT NULL,
            location TEXT NOT NULL,
            status VARCHAR(50) NOT NULL DEFAULT 'draft',
            images TEXT DEFAULT NULL,
            videos TEXT DEFAULT NULL,
            comment TEXT NOT NULL,
            FOREIGN KEY (created_by) REFERENCES users (id) ON DELETE CASCADE
        )`);cov_bh9kia0b8.s[29]++;yield _config2.default.query(dropUsersTableQuery);cov_bh9kia0b8.s[30]++;yield _config2.default.query(dropIncidentsTableQuery);cov_bh9kia0b8.s[31]++;yield _config2.default.query(createUsersTableQuery);cov_bh9kia0b8.s[32]++;yield _config2.default.query(createIncidentsTableQuery);}));cov_bh9kia0b8.s[33]++;return function dropAndRecreateTables(){cov_bh9kia0b8.f[10]++;cov_bh9kia0b8.s[34]++;return _ref.apply(this,arguments);};})());/**
 * @async
 * @function populateMenu - adds two food items to the database
 */const populateIncidents=(cov_bh9kia0b8.s[35]++,(()=>{cov_bh9kia0b8.f[11]++;var _ref2=(cov_bh9kia0b8.s[36]++,_asyncToGenerator(function*(){cov_bh9kia0b8.f[12]++;const dbQuery=(cov_bh9kia0b8.s[37]++,`INSERT INTO incidents(created_by, type, location, status, comment)
    VALUES
    (1, 'red-flag', '2.989887, 9.7979799', 'draft', 'just testing the system'),
    (2, 'intervention', '2.55566, 6.55654', 'draft', 'another testing performed');`);cov_bh9kia0b8.s[38]++;yield _config2.default.query(dbQuery);}));cov_bh9kia0b8.s[39]++;return function populateIncidents(){cov_bh9kia0b8.f[13]++;cov_bh9kia0b8.s[40]++;return _ref2.apply(this,arguments);};})());cov_bh9kia0b8.s[41]++;exports.users=users;cov_bh9kia0b8.s[42]++;exports.dropAndRecreateTables=dropAndRecreateTables;cov_bh9kia0b8.s[43]++;exports.populateIncidents=populateIncidents;cov_bh9kia0b8.s[44]++;exports.generateValidToken=generateValidToken;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZWQuanMiXSwibmFtZXMiOlsidXNlcnMiLCJhZG1pbiIsImlkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJwaG9uZU51bWJlciIsImVtYWlsIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJhZG1pblNlY3JldCIsInZhbGlkVXNlck9uZSIsInZhbGlkVXNlclR3byIsInZhbGlkVXNlckludmFsaWRQYXNzIiwiaW52YWxpZFVzZXIiLCJpbnZhbGlkVXNlck5vRGF0YSIsImludmFsaWRVc2VyTm9GaXJzdG5hbWUiLCJpbnZhbGlkVXNlck5vRW1haWwiLCJpbnZhbGlkVXNlck5vUGFzcyIsImludmFsaWRVc2VyTWlzc21hdGNoZWRQYXNzd29yZCIsImdlbmVyYXRlVmFsaWRUb2tlbiIsInVzZXJPYmplY3QiLCJqd3QiLCJzaWduIiwidXNlcklkIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJ1c2VyU3RhdHVzIiwicHJvY2VzcyIsImVudiIsIkFETUlOX1NFQ1JFVCIsIkpXVF9TRUNSRVQiLCJ0b1N0cmluZyIsImRyb3BBbmRSZWNyZWF0ZVRhYmxlcyIsImRyb3BVc2Vyc1RhYmxlUXVlcnkiLCJkcm9wSW5jaWRlbnRzVGFibGVRdWVyeSIsImNyZWF0ZVVzZXJzVGFibGVRdWVyeSIsImNyZWF0ZUluY2lkZW50c1RhYmxlUXVlcnkiLCJwb29sIiwicXVlcnkiLCJwb3B1bGF0ZUluY2lkZW50cyIsImRiUXVlcnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLFFBQVE7QUFDVkMsV0FBTztBQUNIQyxZQUFJLENBREQ7QUFFSEMsbUJBQVcsVUFGUjtBQUdIQyxrQkFBVSxPQUhQO0FBSUhDLHFCQUFhLGFBSlY7QUFLSEMsZUFBTyxvQkFMSjtBQU1IQyxrQkFBVSxVQU5QO0FBT0hDLHlCQUFpQixVQVBkO0FBUUhDLHFCQUFhO0FBUlYsS0FERztBQVdWQyxrQkFBYztBQUNWUixZQUFJLENBRE07QUFFVkMsbUJB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LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2VuZWpha2MvRG9jdW1lbnRzL3Byb2plY3RzL2lyZXBvcnRlci1kYi1wcmFjdGljZS90ZXN0cy9zZWVkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHBvb2wgZnJvbSAnLi4vLi4vc2VydmVyL2RiL2NvbmZpZyc7XG5cbmNvbnN0IHVzZXJzID0ge1xuICAgIGFkbWluOiB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBmaXJzdG5hbWU6ICdraW5nc2xleScsXG4gICAgICAgIGxhc3RuYW1lOiAnZW5lamEnLFxuICAgICAgICBwaG9uZU51bWJlcjogJzA5MDYzNTUwNjk1JyxcbiAgICAgICAgZW1haWw6ICdlbmVqYS5rY0BnbWFpbC5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ2tpbmdzbGV5JyxcbiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAna2luZ3NsZXknLFxuICAgICAgICBhZG1pblNlY3JldDogJ25pbWRhbWFpJyxcbiAgICB9LFxuICAgIHZhbGlkVXNlck9uZToge1xuICAgICAgICBpZDogMixcbiAgICAgICAgZmlyc3RuYW1lOiAnam9obicsXG4gICAgICAgIGxhc3RuYW1lOiAnc25vdycsXG4gICAgICAgIHBob25lTnVtYmVyOiAnMDgwMjM4NzUwMTEnLFxuICAgICAgICBlbWFpbDogJ2pvaG5zbm93QGdtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnam9obicsXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogJ2pvaG4nLFxuICAgICAgICBhZG1pblNlY3JldDogJycsXG4gICAgfSxcbiAgICB2YWxpZFVzZXJUd286IHtcbiAgICAgICAgaWQ6IDMsXG4gICAgICAgIGZpcnN0bmFtZTogJ3RoZW9uJyxcbiAgICAgICAgbGFzdG5hbWU6ICdncmV5am95JyxcbiAgICAgICAgcGhvbmVOdW1iZXI6ICcwODA4ODIyOTI4JyxcbiAgICAgICAgZW1haWw6ICd0aGVvbmdyZXlqb3lAZ21haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICd0aGVvbicsXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogJ3RoZW9uJyxcbiAgICAgICAgYWRtaW5TZWNyZXQ6ICcnLFxuICAgIH0sXG4gICAgdmFsaWRVc2VySW52YWxpZFBhc3M6IHtcbiAgICAgICAgZW1haWw6ICdqb2huc25vd0BnbWFpbC5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3dyb25ncGFzc3dvcmQnLFxuICAgIH0sXG4gICAgaW52YWxpZFVzZXI6IHtcbiAgICAgICAgZmlyc3RuYW1lOiAnZm91ci1PLWZvdXInLFxuICAgICAgICAvLyBlbWFpbDogJ25vQGVtYWlsLmFkZHJlc3MnLFxuICAgICAgICBlbWFpbDogJ2F0dXJvVmlkYWxAZ21haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdpbnZhbGlkJyxcbiAgICB9LFxuICAgIGludmFsaWRVc2VyTm9EYXRhOiB7fSxcbiAgICBpbnZhbGlkVXNlck5vRmlyc3RuYW1lOiB7XG4gICAgICAgIGxhc3RuYW1lOiAnZ3JleWpveScsXG4gICAgICAgIHBob25lTnVtYmVyOiAnMDgwODgyMjkyOCcsXG4gICAgICAgIGVtYWlsOiAndGhlb25ncmV5am95QGdtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAndGhlb24nLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICd0aGVvbicsXG4gICAgfSxcbiAgICBpbnZhbGlkVXNlck5vRW1haWw6IHtcbiAgICAgICAgZmlyc3RuYW1lOiAndGhlb24nLFxuICAgICAgICBsYXN0bmFtZTogJ2dyZXlqb3knLFxuICAgICAgICBwaG9uZU51bWJlcjogJzA4MDg4MjI5MjgnLFxuICAgICAgICBwYXNzd29yZDogJ3RoZW9uJyxcbiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAndGhlb24nLFxuICAgICAgICBhZG1pblNlY3JldDogJycsXG4gICAgfSxcbiAgICBpbnZhbGlkVXNlck5vUGFzczoge1xuICAgICAgICBmaXJzdG5hbWU6ICd0aGVvbicsXG4gICAgICAgIGxhc3RuYW1lOiAnZ3JleWpveScsXG4gICAgICAgIHBob25lTnVtYmVyOiAnMDgwODgyMjkyOCcsXG4gICAgICAgIGVtYWlsOiAndGhlb25ncmV5am95QGdtYWlsLmNvbScsXG4gICAgICAgIGFkbWluU2VjcmV0OiAnJyxcbiAgICB9LFxuICAgIGludmFsaWRVc2VyTWlzc21hdGNoZWRQYXNzd29yZDoge1xuICAgICAgICBmaXJzdG5hbWU6ICd0aGVvbicsXG4gICAgICAgIGxhc3RuYW1lOiAnZ3JleWpveScsXG4gICAgICAgIHBob25lTnVtYmVyOiAnMDgwODgyMjkyOCcsXG4gICAgICAgIGVtYWlsOiAndGhlb25ncmV5am95QGdtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAndGhlb24nLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICdub3R0aGVvbicsXG4gICAgICAgIGFkbWluU2VjcmV0OiAnJyxcbiAgICB9LFxufTtcblxuLyoqXG4gKiBAZnVuY3Rpb24gZ2VuZXJhdGVWYWxpZFRva2VuIC0gZ2VuZXJhdGVzIGEgdmFsaWQgSldUIGJhc2VkIG9uIHRoZSB1c2VyIGRldGFpbHMgb2JqZWN0IHBhc3NlZCBpblxuICogQHBhcmFtIHtPYmplY3R9IHVzZXJPYmplY3QgLSB0aGUgZGV0YWlscyBvZiB0aGUgdXNlclxuICogQHJldHVybnMge1N0cmluZ30gLSBhIHZhbGlkLCBzaWduZWQsIEpTT04gV2ViIFRva2VuXG4gKlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVZhbGlkVG9rZW4odXNlck9iamVjdCkge1xuICAgIHJldHVybiBqd3Quc2lnbih7XG4gICAgICAgIHVzZXJJZDogdXNlck9iamVjdC5pZCxcbiAgICAgICAgdXNlck5hbWU6IHVzZXJPYmplY3QuZmlyc3RuYW1lLFxuICAgICAgICB1c2VyRW1haWw6IHVzZXJPYmplY3QuZW1haWwsXG4gICAgICAgIHVzZXJTdGF0dXM6IHVzZXJPYmplY3QuYWRtaW5TZWNyZXQgPT09IHByb2Nlc3MuZW52LkFETUlOX1NFQ1JFVCA/ICdhZG1pbicgOiAnY3VzdG9tZXInLFxuICAgIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQGFzeW5jXG4gKiBAZnVuY3Rpb24gZHJvcEFuZFJlY3JlYXRlVGFibGVzIC0gcHVyZ2VzIHRoZSBkYXRhYmFzZSBkYXRhXG4gKi9cbmNvbnN0IGRyb3BBbmRSZWNyZWF0ZVRhYmxlcyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBkcm9wVXNlcnNUYWJsZVF1ZXJ5ID0gJ0RST1AgVEFCTEUgSUYgRVhJU1RTIHVzZXJzIENBU0NBREUnO1xuICAgIGNvbnN0IGRyb3BJbmNpZGVudHNUYWJsZVF1ZXJ5ID0gJ0RST1AgVEFCTEUgSUYgRVhJU1RTIGluY2lkZW50cyBDQVNDQURFJztcblxuICAgIGNvbnN0IGNyZWF0ZVVzZXJzVGFibGVRdWVyeSA9IGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUU1xuICAgICAgICB1c2VycyhcbiAgICAgICAgICAgIGlkIHNlcmlhbCBQUklNQVJZIEtFWSxcbiAgICAgICAgICAgIGZpcnN0bmFtZSBWQVJDSEFSKDUwKSBOT1QgTlVMTCxcbiAgICAgICAgICAgIGxhc3RuYW1lIFZBUkNIQVIoNTApIE5PVCBOVUxMLFxuICAgICAgICAgICAgb3RoZXJuYW1lcyBWQVJDSEFSKDUwKSBERUZBVUxUIE5VTEwsXG4gICAgICAgICAgICB1c2VybmFtZSBWQVJDSEFSKDUwKSBOT1QgTlVMTCxcbiAgICAgICAgICAgIHBob25lbnVtYmVyIFZBUkNIQVIoNTApIE5PVCBOVUxMLFxuICAgICAgICAgICAgZW1haWwgVkFSQ0hBUigxMjgpIFVOSVFVRSBOT1QgTlVMTCxcbiAgICAgICAgICAgIHBhc3N3b3JkIFZBUkNIQVIoMTI4KSBOT1QgTlVMTCxcbiAgICAgICAgICAgIHBpY3R1cmUgVEVYVCBERUZBVUxUIE5VTEwsXG4gICAgICAgICAgICByZWdpc3RlcmVkIFRJTUVTVEFNUCxcbiAgICAgICAgICAgIGlzX2FkbWluIEJPT0xFQU4gTk9UIE5VTExcblxuICAgICAgICApYDtcblxuICAgIGNvbnN0IGNyZWF0ZUluY2lkZW50c1RhYmxlUXVlcnkgPSBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFNcbiAgICAgICAgaW5jaWRlbnRzKFxuICAgICAgICAgICAgaWQgc2VyaWFsIFBSSU1BUlkgS0VZLFxuICAgICAgICAgICAgY3JlYXRlZF9vbiBUSU1FU1RBTVAsXG4gICAgICAgICAgICBjcmVhdGVkX2J5IHNlcmlhbCBOT1QgTlVMTCxcbiAgICAgICAgICAgIHR5cGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICAgIGxvY2F0aW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgICAgICBzdGF0dXMgVkFSQ0hBUig1MCkgTk9UIE5VTEwgREVGQVVMVCAnZHJhZnQnLFxuICAgICAgICAgICAgaW1hZ2VzIFRFWFQgREVGQVVMVCBOVUxMLFxuICAgICAgICAgICAgdmlkZW9zIFRFWFQgREVGQVVMVCBOVUxMLFxuICAgICAgICAgICAgY29tbWVudCBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgICAgRk9SRUlHTiBLRVkgKGNyZWF0ZWRfYnkpIFJFRkVSRU5DRVMgdXNlcnMgKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgICApYDtcblxuICAgIGF3YWl0IHBvb2wucXVlcnkoZHJvcFVzZXJzVGFibGVRdWVyeSk7XG4gICAgYXdhaXQgcG9vbC5xdWVyeShkcm9wSW5jaWRlbnRzVGFibGVRdWVyeSk7XG4gICAgYXdhaXQgcG9vbC5xdWVyeShjcmVhdGVVc2Vyc1RhYmxlUXVlcnkpO1xuICAgIGF3YWl0IHBvb2wucXVlcnkoY3JlYXRlSW5jaWRlbnRzVGFibGVRdWVyeSk7XG59O1xuXG4vKipcbiAqIEBhc3luY1xuICogQGZ1bmN0aW9uIHBvcHVsYXRlTWVudSAtIGFkZHMgdHdvIGZvb2QgaXRlbXMgdG8gdGhlIGRhdGFiYXNlXG4gKi9cbmNvbnN0IHBvcHVsYXRlSW5jaWRlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGRiUXVlcnkgPSBgSU5TRVJUIElOVE8gaW5jaWRlbnRzKGNyZWF0ZWRfYnksIHR5cGUsIGxvY2F0aW9uLCBzdGF0dXMsIGNvbW1lbnQpXG4gICAgVkFMVUVTXG4gICAgKDEsICdyZWQtZmxhZycsICcyLjk4OTg4NywgOS43OTc5Nzk5JywgJ2RyYWZ0JywgJ2p1c3QgdGVzdGluZyB0aGUgc3lzdGVtJyksXG4gICAgKDIsICdpbnRlcnZlbnRpb24nLCAnMi41NTU2NiwgNi41NTY1NCcsICdkcmFmdCcsICdhbm90aGVyIHRlc3RpbmcgcGVyZm9ybWVkJyk7YDsgXG4gICAgYXdhaXQgcG9vbC5xdWVyeShkYlF1ZXJ5KTtcbn07XG5cbmV4cG9ydCB7XG4gICAgdXNlcnMsXG4gICAgZHJvcEFuZFJlY3JlYXRlVGFibGVzLFxuICAgIHBvcHVsYXRlSW5jaWRlbnRzLFxuICAgIGdlbmVyYXRlVmFsaWRUb2tlbixcbn07XG4iXX0=